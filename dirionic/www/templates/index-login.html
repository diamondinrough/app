<ion-view title="Login">
  <ion-nav-buttons side="right">
    <a ng-if="!authenticated" class="button button-icon icon ion-person-add" href="#/app/index/register"></a>
  </ion-nav-buttons>
  <ion-content>
    <div ng-if="!authenticated">
      <div class="list">
        <label class="item item-input">
          <span class="input-label">Username</span>
          <input ng-model="user.username" type="text">
        </label>
        <div ng-if="errors.username" class="item error">
          <p>{{errors.username}}</p>
        </div>
        <label class="item item-input">
          <span class="input-label">Password</span>
          <input ng-model="user.password" type="text">
        </label>
        <div ng-if="errors.password" class="item error">
          <p>{{errors.password}}</p>
        </div>
      </div>
      <button class="button button-block button-positive" ng-click="login()">
        Login
      </button>
    </div>
    <div ng-if="authenticated">
      <div class="list">
        <div class="item" style="text-align: center;">
          Logged in as {{currentuser}}
        </div>
      </div>
      <button class="button button-block button-assertive" ng-click="logout()">
        Logout
      </button>
    </div>
  </ion-content>
</ion-view>