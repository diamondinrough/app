<ion-view title="Search Videos" class="has-tabs">
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-ios-pricetag" ng-click="showTags()"></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-refresher pulling-text="Reload searches" on-refresh="reload()"></ion-refresher>
    <div>
      <label class="item item-input">
        <i class="icon ion-ios-search-strong" style="margin-right: 10px;" on-touch="loadSearches()"></i>
        <input type="search" placeholder="Search" ng-model="search.text">
        <a ng-if="search.text != ''" on-touch="search.text=''">
          <i class="icon ion-ios-close" style="margin-right: 12px;"></i>
        </a>
      </label>
    </div>
    <ion-list>  
      <ion-item ng-repeat="video in videos">
        <div>
          <p class="item-type">Video</p>
          <a class="item-view button icon-right ion-chevron-right button-clear button-dark" href="#/app/home/video/{{video.id}}">View</a>
        </div>
        <div style="clear: both;"></div>
        <ul>
          <li class="tag" ng-repeat="tag in video.tags" style="background-color: {{tag.color}}">
            {{tag.name}}
          </li>
        </ul>
        <div class="item-text-wrap" style="margin-top: 7px; margin-bottom: 5px;">
          <h2 class="item-title">{{video.title}}</h2>
        </div>
        <div>
          <p class="item-date">{{video.dt_created}}</p>
          <p class="item-views icon ion-eye">{{video.views}}</p>
        </div>
        <div style="clear: both;"></div>
        <div class="item-img-container">
          <img class="item-img" ng-src="https://img.youtube.com/vi/{{video.videoid}}/0.jpg" alt="thumbnail">
        </div>
        <div class="item-text-wrap">
          <p class="item-summary">{{video.summary}}</p>
        </div>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll ng-if="moreitems" on-infinite="loadMore()"></ion-infinite-scroll>
  </ion-content>
</ion-view>
