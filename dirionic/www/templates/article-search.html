<ion-view title="Search Articles" class="has-tabs">
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-ios-pricetag" ng-click="showTags()"></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-refresher pulling-text="Reload searches" on-refresh="reload()"></ion-refresher>
    <div>
      <label class="item item-input">
        <i class="icon ion-ios-search-strong" style="margin-right: 10px;" on-touch="loadSearches()"></i>
        <input type="search" placeholder="Search" ng-model="search.text">
        <a ng-if="search.text != ''" on-touch="search.text='';articles=[];">
          <i class="icon ion-ios-close" style="margin-right: 12px;"></i>
        </a>
      </label>
    </div>
    <ion-list>  
      <ion-item ng-repeat="article in articles">
        <div>
          <p class="item-type">Article</p>
          <a class="item-view button icon-right ion-chevron-right button-clear button-dark" href="#/app/home/article/{{article.id}}">View</a>
        </div>
        <div style="clear: both;"></div>
        <ul>
          <li class="tag" ng-repeat="tag in article.tags" style="background-color: {{tag.color}}">
            {{tag.name}}
          </li>
        </ul>
        <div class="item-text-wrap" style="margin-top: 7px; margin-bottom: 5px;">
          <h2 class="item-title">{{article.title}}</h2>
        </div>
        <div>
          <p class="item-date">{{article.dt_created}}</p>
          <p class="item-views icon ion-eye">{{article.views}}</p>
        </div>
        <div style="clear: both;"></div>
        <div class="item-img-container">
          <img class="item-img" ng-src="{{article.image}}">
        </div>
        <div class="item-text-wrap">
          <p class="item-summary">{{article.summary}}</p>
        </div>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll ng-if="moreitems" on-infinite="loadMore()"></ion-infinite-scroll>
  </ion-content>
</ion-view>
